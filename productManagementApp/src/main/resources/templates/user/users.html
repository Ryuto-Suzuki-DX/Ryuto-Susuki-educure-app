<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>ホーム</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body class="home-page">
    <div class="menu-container">
        <form action="/home" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/home')} ? ' active' : '')">
            <button class="menu-button">トップ</button>
        </form>
        <form action="/sarchOrder" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/sarchOrder')} ? ' active' : '')">
            <button class="menu-button">入出庫検索</button>
        </form>
        <form action="/in" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/in')} ? ' active' : '')">
            <button class="menu-button">+入庫</button>
        </form>
        <form action="/out" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/out')} ? ' active' : '')">
            <button class="menu-button">-出庫</button>
        </form>
        <form action="/csv" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/csv')} ? ' active' : '')">
            <button class="menu-button">予定一括登録</button>
        </form>
        <form action="/stock" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/stock')} ? ' active' : '')">
            <button class="menu-button">在庫状況一覧</button>
        </form>
        <form action="/parties" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/parties')} ? ' active' : '')">
            <button class="menu-button">発送先管理</button>
        </form>
        <form action="/products" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/products')} ? ' active' : '')">
            <button class="menu-button">製品管理</button>
        </form>
        <form action="/user/users" method="get" 
              th:class="'menu-form' + (${currentUri.startsWith('/users')} ? ' active' : '')">
            <button class="menu-button">ユーザー管理</button>
        </form>
    </div>

    <div>
        <form action="/user/searchUser" method="post" th:object="${searchForm}">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
          <button type="submit">検索</button>
          <label>ID:<input type="text" th:field="*{id}"></label>
          <label>氏名:<input type="text" th:field="*{name}"></label>
          <label>権限:<input type="text" th:field="*{role}"></label>
          <label>登録日:
            <input type="date" th:field="*{regDateFrom}">
            ～
            <input type="date" th:field="*{regDateTo}">
          </label>
          <label>更新日:
            <input type="date" th:field="*{updDateFrom}">
            ～
            <input type="date" th:field="*{updDateTo}">
          </label>
        </form>


    <!--ボタンたち-->
    <button id="editButton" disabled onclick="editUser()">編集</button>
    <button id="deleteButton" disabled onclick="deleteUser()">削除</button>

    <!-- 検索結果テーブル -->
    <table id="userTable" border="1" style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr>
                <th>ID</th>
                <th>ユーザー名</th>
                <th>氏名</th>
                <th>権限</th>
                <th>登録日</th>
                <th>更新日</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user : ${users}" th:data-id="${user.id}" onclick="selectRow(this)">
                <td th:text="${user.id}"></td>
                <td th:text="${user.username}"></td>
                <td th:text="${user.name}"></td>
                <td th:text="${user.role}"></td>
                <td th:text="${user.createdAt}"></td>
                <td th:text="${user.updatedAt}"></td>
            </tr>
        </tbody>
    </table>
</body>
</html>
